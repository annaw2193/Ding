[{"/home/annajwang/htn/Ding/frontend/src/index.js":"1","/home/annajwang/htn/Ding/frontend/src/App.js":"2","/home/annajwang/htn/Ding/frontend/src/reportWebVitals.js":"3","/home/annajwang/htn/Ding/frontend/src/Input/InputTags.js":"4","/home/annajwang/htn/Ding/frontend/src/Input/Input.js":"5","/home/annajwang/htn/Ding/frontend/src/Input/Checkbox.js":"6"},{"size":500,"mtime":1610772178555,"results":"7","hashOfConfig":"8"},{"size":623,"mtime":1610853914501,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1610772178555,"results":"10","hashOfConfig":"8"},{"size":1676,"mtime":1610853914505,"results":"11","hashOfConfig":"8"},{"size":6843,"mtime":1610858982037,"results":"12","hashOfConfig":"8"},{"size":500,"mtime":1610853914501,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"wucgfi",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/home/annajwang/htn/Ding/frontend/src/index.js",[],["29","30"],"/home/annajwang/htn/Ding/frontend/src/App.js",[],"/home/annajwang/htn/Ding/frontend/src/reportWebVitals.js",[],"/home/annajwang/htn/Ding/frontend/src/Input/InputTags.js",[],"/home/annajwang/htn/Ding/frontend/src/Input/Input.js",["31"],"import React from \"react\";\nimport Checkbox from \"./Checkbox.js\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\n\nconst OPTIONS = [\"Text\", \"Images\", \"Audio\"];\n\nclass Input extends React.Component {\n  state = {\n    checkboxes: OPTIONS.reduce((options, option) => ({\n      ...options,\n      [option]: false,\n    })),\n\n    num: 1,\n    downloads: [],\n    words: [],\n    audios: [],\n    selectD: []\n  };\n\n  // Handles changes in checkbox\n  handleCheckboxChange = (changeEvent) => {\n    const { name } = changeEvent.target;\n\n    this.setState((prevState) => ({\n      checkboxes: {\n        ...prevState.checkboxes,\n        [name]: !prevState.checkboxes[name],\n      },\n    }));\n  };\n\n  // Handles changes in number input\n  handleNumChange = (e) => {\n    this.setState({ num: e.target.value });\n  };\n\n  handleSelectImage = (e) => {\n    // e.preventDefault();\n    console.log(e.target.key)\n    console.log(`target value: ${this.state.downloads[e.target.value]}`)\n    this.setState({ selectD: e.target.value})\n  }\n\n  // Dynamically creates checkboxes\n  createCheckbox = (option) => (\n    <Checkbox\n      label={option}\n      isSelected={this.state.checkboxes[option]}\n      onCheckboxChange={this.handleCheckboxChange}\n      key={option}\n    />\n  );\n\n  //  Handles form submit events\n  handleFormSubmit = (formSubmitEvent) => {\n    formSubmitEvent.preventDefault();\n\n    const audio = new Audio(\"/ding.mp3\");\n    audio.play();\n\n    // console.log(this.state.selectD)\n\n    this.setState({\n\n    downloads: [this.state.selectD],\n    words: [],\n    audios: [],\n    selectD: []\n  });\n\n  console.log(this.state.downloads)\n\n    let imageCheck = false;\n    let audioCheck = false;\n    let textCheck = false;\n\n    let numImage = 0;\n    let numAudio = 0;\n    let numText = 0;\n\n    Object.keys(this.state.checkboxes)\n      .filter((checkbox) => this.state.checkboxes[checkbox])\n      .forEach((checkbox) => {\n        if (checkbox === \"Images\") {\n          imageCheck = true;\n        }\n        if (checkbox === \"Audio\") {\n          audioCheck = true;\n        }\n        if (checkbox === \"Text\") {\n          textCheck = true;\n        }\n      });\n\n    // produces the number of elements to be generated\n    if (imageCheck && textCheck && audioCheck) {\n      numImage = Math.floor(Math.random() * this.state.num + 1);\n      numAudio = Math.floor(Math.random() * (this.state.num - numImage) + 1);\n      numText = this.state.num - numImage - numAudio;\n    } else if (imageCheck && textCheck && !audioCheck) {\n      numImage = Math.floor(Math.random() * this.state.num + 1);\n      numText = this.state.num - numImage;\n    } else if (imageCheck && !textCheck && audioCheck) {\n      numImage = Math.floor(Math.random() * this.state.num + 1);\n      numAudio = this.state.num - numImage;\n    } else if (!imageCheck && textCheck && audioCheck) {\n      numAudio = Math.floor(Math.random() * this.state.num + 1);\n      numText = this.state.num - numAudio;\n    } else {\n      if (imageCheck) {\n        numImage = this.state.num;\n      } else if (textCheck) {\n        numText = this.state.num;\n      } else if (audioCheck) {\n        numAudio = this.state.num;\n      } \n    }\n\n    // Call backend for image, word, and text information\n    if (imageCheck) {\n      axios.get(`http://localhost:5000/images/${numImage}`, {}).then(\n        function (response) {\n  \n          for (let i = 0; i < numImage; i++) {\n            this.setState(prevState => ({\n              downloads: [...prevState.downloads, JSON.parse(response[\"data\"])[i][\"download_url\"] ]\n            }))\n          }\n\n          // return this.setState({ downloads: download});\n        }.bind(this)\n      );\n    }\n    if (textCheck) {\n      axios.get(`http://localhost:5000/words/${numText}`, {}).then(\n        function (response) {\n          var wordArray = response[\"data\"];\n          return this.setState({ words: wordArray });\n        }.bind(this)\n      );\n    }\n    if (audioCheck) {\n      axios.get(`http://localhost:5000/audio/${numAudio}`, {}).then(\n        function (response) {\n          var audioLinkMP3 = [];\n          var audioLinkOGG = [];\n          for (let i = 0; i < numAudio; i++) {\n            audioLinkMP3.push(\n              JSON.parse(response[\"data\"])[i][\"preview-lq-mp3\"]\n            );\n            audioLinkOGG.push(\n              JSON.parse(response[\"data\"])[i][\"preview-lq-ogg\"]\n            );\n          }\n          return this.setState({ audios: audioLinkMP3, audioLinkOGG });\n        }.bind(this)\n      );\n    }\n  };\n\n  // Dynamically create checkboxes\n  createCheckboxes = () => OPTIONS.map(this.createCheckbox);\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-5\">\n          <div className=\"col-sm-12\">\n            <form onSubmit={this.handleFormSubmit}>\n              <div className=\"checkboxBox\">{this.createCheckboxes()}</div>\n              <br />\n              <div className=\"num-elements\">\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  placeholder=\"# Prompts\"\n                  max=\"50\"\n                  step=\"1\"\n                  value={this.state.num}\n                  onChange={this.handleNumChange}\n                ></input>\n              </div>\n\n              <div className=\"form-group mt-2\">\n                <Button type=\"submit\" className=\"btn generate\" size=\"lg\" block>\n                  DING\n                </Button>\n              <br />\n\n               <div className=\"parent-formatter\">\n                {this.state.downloads.map((image, i) => (\n                  <div className=\"item-formatter\" key={i} onMouseUp={this.handleSelectImage}>\n                    <img src={image} alt=\"DingImage\"></img>\n                  </div>\n                ))}\n              </div>\n              <div className=\"parent-formatter\">\n                {this.state.words.map((word, i) => (\n                  <div className=\"text-formatter\" key={i}>\n                    <p>{word}</p>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"parent-formatter\">\n                {this.state.audios.map((audioLinkMP3, audioLinkOGG, i) => (\n                  <div className=\"item-formatter\" key={i}>\n                    <audio controls preload=\"auto\">\n                      <source src={audioLinkMP3} type=\"audio/mpeg\"></source>\n                      <source src={audioLinkOGG} type=\"audio/ogg\"></source>\n                      Your browser does not support the audio element.\n                    </audio>\n                  </div>\n                ))}\n              </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  // Dynamically create checkboxes\n  createCheckboxes = () => OPTIONS.map(this.createCheckbox);\n}\n\nexport default Input;\n","/home/annajwang/htn/Ding/frontend/src/Input/Checkbox.js",[],["32","33"],{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","severity":1,"message":"39","line":5,"column":8,"nodeType":"40","messageId":"41","endLine":5,"endColumn":17},{"ruleId":"34","replacedBy":"42"},{"ruleId":"36","replacedBy":"43"},"no-native-reassign",["44"],"no-negated-in-lhs",["45"],"no-unused-vars","'Container' is defined but never used.","Identifier","unusedVar",["44"],["45"],"no-global-assign","no-unsafe-negation"]